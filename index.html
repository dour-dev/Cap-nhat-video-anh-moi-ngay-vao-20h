<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Video kiá»ƒu TikTok</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  background:#000;
  overflow:hidden;
}

#feed{
  height:100vh;
  overflow-y:scroll;
  scroll-snap-type:y mandatory;
}

.item{
  height:100vh;
  position:relative;
  scroll-snap-align:start;
}

video, img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* NÃºt tiáº¿ng */
.sound-btn{
  position:absolute;
  right:15px;
  bottom:80px;
  background:rgba(0,0,0,0.6);
  color:#fff;
  border:none;
  border-radius:50%;
  width:48px;
  height:48px;
  font-size:20px;
}
</style>
</head>
<body>

<div id="feed">

  <!-- VIDEO 1 -->
  <div class="item">
    <video src="media/video1.mp4" loop></video>
    <audio src="media/audio1.mp3"></audio>
    <button class="sound-btn">ðŸ”‡</button>
  </div>

  <!-- VIDEO 2 -->
  <div class="item">
    <video src="media/video2.mp4" loop></video>
    <audio src="media/audio2.mp3"></audio>
    <button class="sound-btn">ðŸ”‡</button>
  </div>

  <!-- áº¢NH -->
  <div class="item">
    <img src="media/img1.jpg">
  </div>

</div>

<script>
const items = document.querySelectorAll('.item');

const observer = new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    const video = e.target.querySelector('video');
    const audio = e.target.querySelector('audio');

    if(video){
      if(e.isIntersecting){
        video.play();
      }else{
        video.pause();
        audio.pause();
        audio.currentTime = 0;
      }
    }
  });
},{threshold:0.8});

items.forEach(i=>observer.observe(i));

// Báº­t / táº¯t tiáº¿ng tá»«ng video
document.querySelectorAll('.sound-btn').forEach(btn=>{
  btn.onclick = ()=>{
    const item = btn.parentElement;
    const audio = item.querySelector('audio');

    if(audio.paused){
      audio.play();
      btn.textContent = 'ðŸ”Š';
    }else{
      audio.pause();
      btn.textContent = 'ðŸ”‡';
    }
  }
});
</script>

</body>
</html>
